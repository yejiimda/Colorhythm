<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Character Carousel</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      background-color: #111;
      display: flex;
      justify-content: center;
      background-image: url(background.jpg);
      align-items: center;
      height: 100vh;
      overflow: hidden;
      font-family: 'Noto Sans KR', sans-serif;
    }

    .carousel-container {
      width: 100vw;
      height: 100vh;
      overflow: hidden;
      position: relative;
    }

    .carousel-track {
      display: flex;
      transition: transform 0.4s ease;
      height: 100%;
      cursor: grab;
    }

    .carousel-item {
      flex: 0 0 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100%;
    }

    .carousel-item img {
      max-width: 80%;
      max-height: 80%;
      object-fit: contain;
      border-radius: 20px;
    }

    /* 네비게이션 메뉴 스타일 */
.nav-menu {
            position: fixed;
            right: 50px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 100px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            z-index: 100;
            border: 3px solid rgba(255, 25, 186, 0.7);
            transition: all 0.3s ease;
        }

        .nav-menu:hover {
            box-shadow: 0 8px 32px rgba(255, 102, 235, 0.3);
            border-color: rgba(255, 255, 255, 0.8);
        }

        .nav-item {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: #ff7bd7;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
            text-decoration: none; /* 링크의 밑줄 제거 */
        }

        .nav-item:hover {
            transform: scale(1.1);
            background: #ff7bd7;
        }

        .nav-item.active {
            background: #ff7bd7;
            box-shadow: 0 0 15px rgba(255, 25, 197, 0.8);
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            color: #ffffff;
        }

        .tooltip {
            position: absolute;
            right: 70px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.2s ease;
            pointer-events: none;
            white-space: nowrap;
        }

        .nav-item:hover .tooltip {
            opacity: 1;
        }

        /* 반응형 디자인을 위한 미디어 쿼리 */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
                height: auto;
                min-height: 100vh;
            }
            
            .character-section {
                height: 30vh;
                min-height: 200px;
            }
            
            .content-section {
                padding: 1rem;
            }
            
            .music-list {
                max-width: 100%;
            }

            .nav-menu {
                right: 20px;
                padding: 15px;
                gap: 15px;
            }

            .nav-item {
                width: 40px;
                height: 40px;
            }
        }
  </style>
</head>
<body>
  <div class="carousel-container">
    <div class="carousel-track" id="carouselTrack">
      <div class="carousel-item">
        <img src="pink_info.png" alt="Mero" />
      </div>
      <div class="carousel-item">
        <img src="green_info.png" alt="Naru" />
      </div>
      <div class="carousel-item">
        <img src="yellow_info.png" alt="Lumi" />
      </div>
      <div class="carousel-item">
        <img src="pink_info.png" alt="Kael" />
      </div>
         <!-- 네비게이션 메뉴 -->
   <div class="nav-menu">
    <a href="https://yejiimda.github.io/Colorhythm/rhythm_start.html" class="nav-item active" onclick="navigateTo('home', event)">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        <div class="tooltip">홈</div>
    </a>
    <a href="affection.html" class="nav-item" onclick="navigateTo('affection', event)">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
        </svg>
        <div class="tooltip">캐릭터 호감도</div>
    </a>
    <a href="https://yejiimda.github.io/Colorhythm/pink_profile.html" class="nav-item" onclick="navigateTo('character-info', event)">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="7" r="4"></circle>
            <path d="M12 11c3.866 0 7 3.134 7 7v2h-14v-2c0-3.866 3.134-7 7-7z"></path>
        </svg>
        <div class="tooltip">캐릭터 정보</div>
    </a>
  </div>

  <script>
    const track = document.getElementById("carouselTrack");
    let isDragging = false;
    let startPos = 0;
    let currentTranslate = 0;
    let prevTranslate = 0;
    let currentIndex = 0;

    track.addEventListener("mousedown", startDrag);
    track.addEventListener("mouseup", endDrag);
    track.addEventListener("mouseleave", endDrag);
    track.addEventListener("mousemove", drag);
    track.addEventListener("touchstart", startDrag);
    track.addEventListener("touchend", endDrag);
    track.addEventListener("touchmove", drag);

    function startDrag(e) {
      isDragging = true;
      startPos = getX(e);
      track.style.transition = "none";
    }

    function drag(e) {
      if (!isDragging) return;
      const currentPosition = getX(e);
      const movedBy = currentPosition - startPos;
      currentTranslate = prevTranslate + movedBy;
      track.style.transform = `translateX(${currentTranslate}px)`;
    }

    function endDrag() {
      if (!isDragging) return;
      isDragging = false;
      const movedBy = currentTranslate - prevTranslate;

      if (movedBy < -100 && currentIndex < 3) currentIndex++;
      if (movedBy > 100 && currentIndex > 0) currentIndex--;

      moveToIndex(currentIndex);
    }

    function getX(e) {
      return e.type.includes("mouse") ? e.pageX : e.touches[0].clientX;
    }

    function moveToIndex(index) {
      currentTranslate = -index * window.innerWidth;
      prevTranslate = currentTranslate;
      track.style.transition = "transform 0.4s ease";
      track.style.transform = `translateX(${currentTranslate}px)`;
    }

     // 네비게이션 메뉴 기능
        function navigateTo(page) {
            // 모든 네비게이션 아이템에서 active 클래스 제거
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // 클릭된 아이템에 active 클래스 추가
            event.currentTarget.classList.add('active');
            
            // 페이지 이동 효과 (실제로는 여기에 페이지 이동 로직 추가)
            playAnimation();
            
            // 알림 표시 (실제 구현 시에는 각 페이지로 이동하도록 수정)
            console.log(`페이지 이동: ${page}`);
            
            // 예시: 페이지 이동 시 파티클 효과
            const navItem = event.currentTarget;
            const rect = navItem.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            for (let i = 0; i < 20; i++) {
                setTimeout(() => {
                    createParticle(centerX, centerY);
                }, i * 20);
            }
        }

        // 네비게이션 메뉴 입장 효과
        window.addEventListener('load', () => {
            const navMenu = document.querySelector('.nav-menu');
            navMenu.style.opacity = '0';
            navMenu.style.transform = 'translateY(-50%) translateX(100px)';
            
            setTimeout(() => {
                navMenu.style.opacity = '1';
                navMenu.style.transform = 'translateY(-50%) translateX(0)';
            }, 500);
        });
  </script>
</body>
</html>
